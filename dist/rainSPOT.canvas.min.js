/**
 * rainSPOT.canvas.js
 * https://github.com/BorisAnthony/rainSPOTjs
 * @version 1.0.0
 * @author Boris Anthony
 * @license MIT
 * @copyright (c) 2024 Boris Anthony
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
function create_rainSPOT_Canvas({inputString:t,options:e={}}){if(49!==t.length||!/^\d+$/.test(t))throw new Error("Invalid input string. Must be 49 digits.");const{canvasSize:r=140,colorPalette:o={0:"ffffff66",1:"#13eefc",2:"#3aaadc",3:"#1774c4",9:"#22d690"},rangeRings:a={enabled:!1,colors:{1:"#000",3:"#000",5:"#000",7:"#000"},strokeWidth:5},crossHairs:s={enabled:!1,style:"bullseye",color:"#000",strokeWidth:1}}=e,n=Math.max(140,7*Math.round(r/7)),i=n/140,l=n/7,c=document.createElement("canvas");c.width=n,c.height=n;const h=c.getContext("2d");if(t.match(/.{1,7}/g).reverse().forEach(((t,e)=>{for(let r=0;r<7;r++){const a=parseInt(t[r],10);h.fillStyle=o[a]||"#000000",h.fillRect(r*l,e*l,l,l)}})),a.enabled){const t=1,e=n/3.5,r=Math.min(e,Math.max(t,a.strokeWidth*i));[1,3,5,7].forEach((t=>{const e=Math.floor((t*l-r)/2);e>0&&(h.beginPath(),h.arc(n/2,n/2,e,0,2*Math.PI),h.strokeStyle="string"==typeof a.colors?a.colors:a.colors[t]||"rgba(0, 0, 0, 0.5)",h.lineWidth=r,h.stroke())}))}if(s.enabled){const t=Math.max(1,s.strokeWidth*i),e=a.enabled?Math.min(n/3.5,Math.max(1,a.strokeWidth*i)):0;if("bullseye"===s.style)_drawCrosshair(h,{x:n/2,y:0},{x:n/2,y:n},s.color,t),_drawCrosshair(h,{x:0,y:n/2},{x:n,y:n/2},s.color,t);else if("brackets"===s.style){const r=l/2,o=e/2;_drawCrosshair(h,{x:n/2,y:r+o},{x:n/2,y:r+l+o},s.color,t),_drawCrosshair(h,{x:n-(l/2+o),y:n/2},{x:n-(l+o)-r,y:n/2},s.color,t),_drawCrosshair(h,{x:n/2,y:n-l/2-o},{x:n/2,y:n-(l+o)-r},s.color,t),_drawCrosshair(h,{x:l/2+o,y:n/2},{x:l+r+o,y:n/2},s.color,t)}}const d=new Image;return d.src=c.toDataURL("image/png"),d}function _drawCrosshair(t,e,r,o,a){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(r.x,r.y),t.strokeStyle=o,t.lineWidth=a,t.stroke()}