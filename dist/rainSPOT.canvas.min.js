/**
 * rainSPOT.canvas.js
 * https://github.com/BorisAnthony/rainSPOTjs
 * @version 1.0.0
 * @author Boris Anthony
 * @license MIT
 * @copyright (c) 2024 Boris Anthony
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
export function create_rainSPOT_Canvas({inputString:t,options:e={}}){if(49!==t.length||!/^\d+$/.test(t))throw new Error("Invalid input string. Must be 49 digits.");let{canvasSize:r=140,useCSS:o=!1,colorPalette:a={0:"#fff6",1:"#13eefc",2:"#3aaadc",3:"#1774c4",9:"#22d690"},rangeRings:s={enabled:!0,colors:{1:"#000",3:"#000",5:"#000",7:"#0000"},strokeWidth:2},crossHairs:n={enabled:!0,style:"brackets",color:"#000",strokeWidth:2}}=e;r=Math.max(140,7*Math.round(r/7));const i=r/140,l=r/7,c=document.createElement("canvas");c.width=r,c.height=r;const h=c.getContext("2d");if(t.match(/.{1,7}/g).reverse().forEach(((t,e)=>{for(let r=0;r<7;r++){const o=parseInt(t[r],10);h.fillStyle=a[o]||"#000000",h.fillRect(r*l,e*l,l,l)}})),s.enabled){const t=1,e=r/3.5,o=Math.min(e,Math.max(t,s.strokeWidth*i));[1,3,5,7].forEach((t=>{const e=Math.floor((t*l-o)/2);e>0&&(h.beginPath(),h.arc(r/2,r/2,e,0,2*Math.PI),h.strokeStyle="string"==typeof s.colors?s.colors:s.colors[t]||"rgba(0, 0, 0, 0.5)",h.lineWidth=o,h.stroke())}))}if(n.enabled){const t=Math.max(1,n.strokeWidth*i),e=s.enabled?Math.min(r/3.5,Math.max(1,s.strokeWidth*i)):0;if("bullseye"===n.style)_drawCrosshair(h,{x:r/2,y:0},{x:r/2,y:r},n.color,t),_drawCrosshair(h,{x:0,y:r/2},{x:r,y:r/2},n.color,t);else if("brackets"===n.style){const o=l/2,a=e/2;_drawCrosshair(h,{x:r/2,y:o+a},{x:r/2,y:o+l+a},n.color,t),_drawCrosshair(h,{x:r-(l/2+a),y:r/2},{x:r-(l+a)-o,y:r/2},n.color,t),_drawCrosshair(h,{x:r/2,y:r-l/2-a},{x:r/2,y:r-(l+a)-o},n.color,t),_drawCrosshair(h,{x:l/2+a,y:r/2},{x:l+o+a,y:r/2},n.color,t)}}const d=new Image;return d.src=c.toDataURL("image/png"),d}function _drawCrosshair(t,e,r,o,a){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(r.x,r.y),t.strokeStyle=o,t.lineWidth=a,t.stroke()}